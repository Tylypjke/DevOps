1 Какого типа команда cd? Попробуйте объяснить, почему она именно такого типа  
опишите ход своих мыслей, если считаете, что она могла бы быть другого типа.

cd  
Внутреняя команда Linux   
Предназначена для перехода в указанную директорию   
Например: cd /var/log

2 Какая альтернатива без pipe команде grep <some_string> <some_file> | wc -l?

grep "some string" "some file" -c

где "-c" - количество строк с совпадениями

3 Какой процесс с PID 1 является родителем для всех процессов в вашей виртуальной машине Ubuntu 20.04?

Команда pstree -p 1 указывает на процесс systemd

Скриншот 1

4  Как будет выглядеть команда, которая перенаправит вывод stderr ls на другую сессию терминала?

root@vagrant:/home/vagrant#     
ls -la \root 2>/dev/pts/1  
bash: /dev/pts/1: Permission denied  
root@vagrant:/home/vagrant# ls -la \root 2>/dev/pts/0  
ls: cannot access 'root': No such file or directory

ls -la \root 2>/dev/pts/1 - команда отправляет вывод в другой терминал 

5 Получится ли одновременно передать команде файл на  
stdin и вывести ее stdout в другой файл? Приведите работающий пример.

Получится  
Пример: ls  /dev > spisok.txt | grep -n 'loop*' list | tee spisok_sort.txt

выводим список файлов и директорий в файл "spisok.txt",  
затем сортируем его и выводим результат сортировки в файл "spisok_sort.txt"

Скриншот 2

6 Получится ли, находясь в графическом режиме,   
вывести данные из PTY в какой-либо из эмуляторов TTY? Сможете ли вы наблюдать выводимые данные?

A tty— это терминал   
Терминал — это просто устройство пользовательского интерфейса, которое использует текст для ввода и вывода

А pty— это псевдотерминал — это программная реализация, которая выглядит для присоединенной программы как терминал,  
но вместо прямого общения с «настоящим» терминалом передает ввод и вывод другой программе.

Да, смогу
Из PTY можно отправить информацию в TTY   
Из PTY echo 'testmessage' > /dev/pts/0


7 Выполните команду bash 5>&1. К чему она приведет?   
Что будет, если вы выполните echo netology > /proc/$$/fd/5? Почему так происходит?

 bash 5>&1 - создает новый дескритор 5 и связывает его со стандартным дескриптором вывода  
 echo netology -  >/proc/$$/fd/5  bash продублирует вывод команды echo на стандартное устройство вывода.


8 Получится ли в качестве входного потока для pipe использовать только stderr команды,  
не потеряв при этом отображение stdout на pty?
Напоминаем: по умолчанию через pipe передается только stdout команды слева от | на stdin команды справа.   
Это можно сделать, поменяв стандартные потоки местами через промежуточный новый дескриптор,  
который вы научились создавать в предыдущем вопросе.

ls -l /root 6>&2 2>&1 1>&6 | grep denied 

ls: cannot open directory '/root': Permission denied - сообщена запись 

6>&2 - новый дескриптор перенаправили в stderr  
2>&1 - stderr перенаправили в stdout   
1>&6 - stdout - перенаправили в в новый дескриптор


Скриншот 3 

9 Что выведет команда cat /proc/$$/environ? Как еще можно получить аналогичный по содержанию вывод?

Выведет переменные окружения  

альтернативные команды:  
printenv  
env  
Вывод команд отсортируется по строчно в столбец 

10 Используя man, опишите что доступно по адресам /proc/<PID>/cmdline, /proc/<PID>/exe.

/proc/<PID>/cmdline - полный путь до исполняемого файла процесса [PID]  
/proc/<PID>/exe - содержит симлинк (ссылку) на исполняемую команду.   
С помощью этой команды можно запустить копию процесса.

11 Узнайте, какую наиболее старшую версию набора инструкций SSE поддерживает ваш процессор с помощью /proc/cpuinfo

cat /proc/cpuinfo | grep sse

SSE 4.2

Скриншот 4

12 При открытии нового окна терминала и vagrant ssh создается новая сессия и выделяется pty.
Это можно подтвердить командой tty, которая упоминалась в лекции 3.2.
Однако:

vagrant@netology1:~$ ssh localhost 'tty'
not a tty
Почитайте, почему так происходит, и как изменить поведение.

ssh localhost 'tty' - по умолчанию tty не создается

для создания tty используется -t

ssh -t localhost tty


13 Бывает, что есть необходимость переместить запущенный процесс из одной сессии в другую.    
Попробуйте сделать это, воспользовавшись reptyr. Например, так можно перенести в screen процесс,  
который вы запустили по ошибке в обычной SSH-сессии.

sudo apt install reptyr

При запуске ругается на права, в 10-patrace.conf указываем kernel.yama.ptrace_scope = 0  
sudo nano /etc/sysctl.d/10-ptrace.conf

инструкция взята с https://github.com/nelhage/reptyr#typical-usage-pattern

Запустите длительный процесс, например top  
Фон процесса с помощью CTRL-Z  
Возобновите процесс в фоновом режиме:bg  
Отобразите запущенные фоновые задания с помощью jobs -l, это должно выглядеть так:  
[1]+  4711 Stopped (signal)        top  
( -l In jobs -l гарантирует, что вы получите PID)  
Отключить задания от текущего родителя с помощью disown top. После этого jobs работу показывать больше не будет  
, а ps -a будет.  
Запустите выбранный мультиплексор терминала, например tmux  
Подключиться к фоновому процессу:reptyr 4711  
Отключите мультиплексор терминала (например, CTRL D) и закройте ssh.  
Переподключите ssh, подключитесь к своему мультиплексору (например tmux attach, ), радуйтесь!  


14 sudo echo string > /root/new_file не даст выполнить перенаправление под обычным пользователем,   
так как перенаправлением занимается процесс shell'а, который запущен без sudo под вашим пользователем.   
Для решения данной проблемы можно использовать конструкцию echo string | sudo tee /root/new_file.   
Узнайте? что делает команда tee и почему в отличие от sudo echo команда с sudo tee будет работать.  


Команда sudo tee делает вывод одновременно на стандартное устройство вывода и в файл.   
(sudo запрашивает права суперпользователя)